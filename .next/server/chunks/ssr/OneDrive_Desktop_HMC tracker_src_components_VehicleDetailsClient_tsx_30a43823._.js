module.exports=[40048,a=>{"use strict";var b=a.i(76284),c=a.i(14238),d=a.i(58216),e=a.i(20005),f=a.i(10172),g=a.i(5128);let h=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)("textarea",{className:`flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${a||""}`,ref:d,...c}));h.displayName="Textarea";var i=a.i(30920),j=a.i(43941),k=a.i(12521),l=a.i(7701),m=a.i(6665);function n({device:a,onMaintenanceCompleted:d}){let[e,f]=(0,c.useState)(!1),[n,o]=(0,c.useState)(a.assignedContacts[0]?.name||""),[p,q]=(0,c.useState)(""),[r,s]=(0,c.useState)(""),[t,u]=(0,c.useState)(!1),[v,w]=(0,c.useState)(null);(0,c.useEffect)(()=>{w(new Date)},[]);let x=async()=>{u(!0);let b={deviceId:a.id,vehicleId:a.vehicleId,date:new Date,type:"preventive",description:`Maintenance completed for ${a.name}`,technician:n,cost:p?parseFloat(p):void 0,notes:r||void 0,nextDueDate:new Date(Date.now()+24*a.maintenanceIntervalDays*36e5)};d(a.id,b),f(!1),u(!1),q(""),s("")},y=!!v&&a.nextMaintenanceDate<v,z=v?Math.ceil((a.nextMaintenanceDate.getTime()-v.getTime())/864e5):0;return(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-slate-200",children:["completed"===a.status?(0,b.jsx)(j.CheckCircle,{className:"h-5 w-5 text-emerald-300"}):y?(0,b.jsx)(k.Wrench,{className:"h-5 w-5 text-red-300"}):(0,b.jsx)(l.Calendar,{className:"h-5 w-5 text-amber-300"}),(0,b.jsx)("span",{className:"font-medium",children:"completed"===a.status?"Up to date":y?`Overdue by ${Math.abs(z)} days`:`Due in ${z} days`})]}),"completed"!==a.status&&(0,b.jsxs)(i.Dialog,{open:e,onOpenChange:f,children:[(0,b.jsx)(i.DialogTrigger,{asChild:!0,children:(0,b.jsxs)(g.Button,{size:"sm",className:"bg-emerald-400/90 hover:bg-emerald-400 text-slate-900",children:[(0,b.jsx)(j.CheckCircle,{className:"h-4 w-4 mr-2"}),"Mark Completed"]})}),(0,b.jsxs)(i.DialogContent,{className:"sm:max-w-[425px] glass-card text-white",children:[(0,b.jsxs)(i.DialogHeader,{children:[(0,b.jsx)(i.DialogTitle,{className:"text-white",children:"Complete Maintenance"}),(0,b.jsxs)(i.DialogDescription,{children:["Record maintenance completion for ",a.name]})]}),(0,b.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,b.jsx)("label",{htmlFor:"technician",className:"text-right text-sm font-medium text-slate-200",children:"Technician"}),(0,b.jsx)("input",{id:"technician",value:n,onChange:a=>o(a.target.value),className:"col-span-3 flex h-10 w-full rounded-md border border-white/20 bg-white/10 px-3 py-2 text-sm text-white placeholder:text-slate-400 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-400/60",placeholder:"Enter technician name"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,b.jsx)("label",{htmlFor:"cost",className:"text-right text-sm font-medium text-slate-200",children:"Cost (QAR)"}),(0,b.jsx)("input",{id:"cost",type:"number",value:p,onChange:a=>q(a.target.value),className:"col-span-3 flex h-10 w-full rounded-md border border-white/20 bg-white/10 px-3 py-2 text-sm text-white placeholder:text-slate-400 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-400/60",placeholder:"Optional"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-4 items-start gap-4",children:[(0,b.jsx)("label",{htmlFor:"notes",className:"text-right text-sm font-medium text-slate-200 pt-2",children:"Notes"}),(0,b.jsx)(h,{id:"notes",value:r,onChange:a=>s(a.target.value),className:"col-span-3 bg-white/10 border-white/20 text-white placeholder:text-slate-400",placeholder:"Maintenance notes...",rows:3})]})]}),(0,b.jsxs)(i.DialogFooter,{children:[(0,b.jsx)(g.Button,{type:"button",variant:"outline",onClick:()=>f(!1),disabled:t,children:"Cancel"}),(0,b.jsx)(g.Button,{type:"button",onClick:x,disabled:t||!n.trim(),className:"bg-emerald-400/90 hover:bg-emerald-400 text-slate-900",children:t?"Recording...":"Complete Maintenance"})]})]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("h4",{className:"text-sm font-medium text-slate-200 flex items-center gap-2",children:[(0,b.jsx)(m.FileText,{className:"h-4 w-4"}),"Maintenance History"]}),(0,b.jsx)("div",{className:"text-sm text-slate-300",children:a.lastMaintenanceDate?(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(l.Calendar,{className:"h-3 w-3"}),(0,b.jsxs)("span",{children:["Last maintenance: ",a.lastMaintenanceDate.toLocaleDateString()]})]}):(0,b.jsx)("span",{className:"text-slate-400 italic",children:"No maintenance history available"})})]})]})}var o=a.i(16086),p=a.i(24066),q=a.i(66590),r=a.i(75060),s=a.i(70447),t=a.i(92427),u=a.i(66347),v=a.i(33966),w=a.i(17417),x=a.i(70244);function y({vehicle:a}){let[g,h]=(0,c.useState)(a),i=(a,b)=>{h(c=>({...c,devices:c.devices.map(c=>{if(c.id===a){let a=b.nextDueDate||new Date(Date.now()+24*c.maintenanceIntervalDays*36e5),d=a<new Date,e=!d&&a.getTime()-Date.now()<6048e5,f="upcoming";return f=d?"overdue":e?"due":"completed",{...c,lastMaintenanceDate:b.date,nextMaintenanceDate:a,status:f}}return c})}))},j=g.devices.reduce((a,b)=>(a[b.status]=(a[b.status]||0)+1,a),{}),m=j.overdue||0,y=j.due||0,z=g.devices.length,A=Math.round((z-m-y)/z*100);return(0,b.jsx)("div",{className:"min-h-screen fade-in",children:(0,b.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,b.jsxs)("div",{className:"mb-8 flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)(x.default,{href:"/vehicles",className:"inline-flex items-center gap-2 text-slate-300 hover:text-white transition-colors mb-4",children:[(0,b.jsx)(o.ArrowLeft,{className:"h-5 w-5"}),"Back to Fleet"]}),(0,b.jsxs)("h1",{className:"text-3xl font-bold text-white",children:[g.name," Details"]}),(0,b.jsx)("p",{className:"mt-1 text-sm text-slate-300",children:"Equipment maintenance and status overview"})]}),(0,b.jsx)(e.Badge,{className:"active"===g.status?"bg-emerald-500/20 text-emerald-200 border-emerald-400/30":"maintenance"===g.status?"bg-amber-500/20 text-amber-200 border-amber-400/30":"bg-red-500/20 text-red-200 border-red-400/30",children:g.status.replace("_"," ")})]}),(0,b.jsx)("div",{className:"glass-card rounded-2xl p-8 mb-8",children:(0,b.jsxs)("div",{className:"flex items-start gap-6",children:[(0,b.jsx)("div",{className:"p-4 rounded-2xl bg-gradient-to-br from-blue-500/30 via-cyan-400/20 to-emerald-400/20 text-cyan-100 shadow-lg shadow-blue-500/20",children:(a=>{switch(a){case"car":return(0,b.jsx)(p.Car,{className:"h-8 w-8"});case"ambulance":return(0,b.jsx)(q.Ambulance,{className:"h-8 w-8"});case"helicopter":return(0,b.jsx)(r.Helicopter,{className:"h-8 w-8"})}})(g.type)}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white",children:g.name}),(0,b.jsx)(e.Badge,{variant:"outline",children:g.type})]}),(0,b.jsx)("p",{className:"text-lg text-slate-300 mb-4",children:g.model}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-slate-300",children:[(0,b.jsx)(s.MapPin,{className:"h-5 w-5"}),(0,b.jsx)("span",{children:g.location})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-slate-300",children:[(0,b.jsx)(l.Calendar,{className:"h-5 w-5"}),(0,b.jsxs)("span",{children:["Next Inspection: ",g.nextInspectionDate.toLocaleDateString()]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-slate-300",children:[(0,b.jsx)(t.Users,{className:"h-5 w-5"}),(0,b.jsxs)("span",{children:[g.assignedContacts.length," assigned contacts"]})]})]}),(g.mileage||g.flightHours)&&(0,b.jsxs)("div",{className:"mt-4 text-slate-300",children:[g.mileage&&(0,b.jsxs)("span",{children:["Mileage: ",g.mileage.toLocaleString()," km"]}),g.flightHours&&(0,b.jsxs)("span",{children:["Flight Hours: ",g.flightHours.toLocaleString()," hrs"]})]}),g.notes&&(0,b.jsx)("div",{className:"mt-4 p-3 rounded-xl bg-white/10 border border-white/10",children:(0,b.jsx)("p",{className:"text-sm text-slate-200",children:g.notes})})]})]})}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,b.jsxs)(d.Card,{children:[(0,b.jsxs)(d.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(d.CardTitle,{className:"text-sm font-medium",children:"Maintenance Health"}),(0,b.jsx)(w.Activity,{className:"h-4 w-4 text-muted-foreground"})]}),(0,b.jsxs)(d.CardContent,{children:[(0,b.jsxs)("div",{className:"text-2xl font-bold mb-2",children:[A,"%"]}),(0,b.jsx)(f.Progress,{value:A,className:"h-2"})]})]}),(0,b.jsxs)(d.Card,{children:[(0,b.jsxs)(d.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(d.CardTitle,{className:"text-sm font-medium",children:"Total Devices"}),(0,b.jsx)(k.Wrench,{className:"h-4 w-4 text-muted-foreground"})]}),(0,b.jsxs)(d.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold",children:z}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Equipment items"})]})]}),(0,b.jsxs)(d.Card,{children:[(0,b.jsxs)(d.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(d.CardTitle,{className:"text-sm font-medium",children:"Overdue Items"}),(0,b.jsx)(u.AlertTriangle,{className:"h-4 w-4 text-red-600"})]}),(0,b.jsxs)(d.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-red-600",children:m}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Require immediate attention"})]})]}),(0,b.jsxs)(d.Card,{children:[(0,b.jsxs)(d.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(d.CardTitle,{className:"text-sm font-medium",children:"Due Soon"}),(0,b.jsx)(v.Clock,{className:"h-4 w-4 text-orange-600"})]}),(0,b.jsxs)(d.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:y}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Within 7 days"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:"Equipment & Maintenance Status"}),(0,b.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:g.devices.map(a=>(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)(d.Card,{className:"hover:shadow-md transition-shadow",children:[(0,b.jsxs)(d.CardHeader,{className:"pb-3",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)(d.CardTitle,{className:"text-lg text-white",children:a.name}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(e.Badge,{className:`${(a=>{switch(a){case"critical":return"text-red-200 bg-red-500/20 border-red-400/30";case"high":return"text-amber-200 bg-amber-500/20 border-amber-400/30";case"medium":return"text-yellow-200 bg-yellow-500/20 border-yellow-400/30";case"low":return"text-emerald-200 bg-emerald-500/20 border-emerald-400/30";default:return"text-slate-200 bg-slate-500/20 border-slate-400/30"}})(a.criticality)} border`,children:a.criticality}),(0,b.jsx)(e.Badge,{className:`${(a=>{switch(a){case"overdue":return"text-red-200 bg-red-500/20 border-red-400/30";case"due":return"text-amber-200 bg-amber-500/20 border-amber-400/30";case"upcoming":return"text-cyan-200 bg-cyan-500/20 border-cyan-400/30";case"completed":return"text-emerald-200 bg-emerald-500/20 border-emerald-400/30";default:return"text-slate-200 bg-slate-500/20 border-slate-400/30"}})(a.status)} border`,children:a.status.replace("_"," ")})]})]}),(0,b.jsx)("p",{className:"text-sm text-slate-300",children:a.type.replace("_"," ")})]}),(0,b.jsxs)(d.CardContent,{className:"space-y-4",children:[(0,b.jsx)("p",{className:"text-sm text-slate-300",children:a.description}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"font-medium text-slate-200",children:"Location:"}),(0,b.jsx)("p",{className:"text-slate-300",children:a.location})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"font-medium text-slate-200",children:"Interval:"}),(0,b.jsxs)("p",{className:"text-slate-300",children:[a.maintenanceIntervalDays," days"]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"font-medium text-slate-200",children:"Last Maintenance:"}),(0,b.jsx)("p",{className:"text-slate-300",children:a.lastMaintenanceDate?.toLocaleDateString()||"Never"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"font-medium text-slate-200",children:"Next Due:"}),(0,b.jsx)("p",{className:`font-medium ${"overdue"===a.status?"text-red-200":"due"===a.status?"text-amber-200":"text-slate-300"}`,children:a.nextMaintenanceDate.toLocaleDateString()})]})]}),a.serialNumber&&(0,b.jsxs)("div",{className:"text-xs text-slate-400 border-t border-white/10 pt-3",children:["Serial: ",a.serialNumber,a.manufacturer&&` • ${a.manufacturer}`,a.model&&` • ${a.model}`]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-xs text-slate-400 border-t border-white/10 pt-3",children:[(0,b.jsx)(t.Users,{className:"h-3 w-3"}),(0,b.jsxs)("span",{children:["Assigned: ",a.assignedContacts[0]?.name]})]})]})]}),(0,b.jsx)(d.Card,{children:(0,b.jsx)(d.CardContent,{className:"p-4",children:(0,b.jsx)(n,{device:a,onMaintenanceCompleted:i})})})]},a.id))})]}),(0,b.jsxs)("div",{className:"mt-8",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:"Assigned Contacts"}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:g.assignedContacts.map(a=>(0,b.jsx)(d.Card,{children:(0,b.jsx)(d.CardContent,{className:"p-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-cyan-100 font-semibold bg-gradient-to-br from-blue-500/30 via-cyan-400/20 to-emerald-400/20",children:a.name.charAt(0)}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-white",children:a.name}),(0,b.jsx)("p",{className:"text-sm text-slate-300",children:a.role}),a.email&&(0,b.jsx)("p",{className:"text-xs text-slate-400",children:a.email}),a.phone&&(0,b.jsx)("p",{className:"text-xs text-slate-400",children:a.phone})]})]})})},a.id))})]})]})})}a.s(["VehicleDetailsClient",()=>y],40048)}];

//# sourceMappingURL=OneDrive_Desktop_HMC%20tracker_src_components_VehicleDetailsClient_tsx_30a43823._.js.map