module.exports = [
"[externals]/next/dist/compiled/next-server/app-route-turbo.runtime.dev.js [external] (next/dist/compiled/next-server/app-route-turbo.runtime.dev.js, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("next/dist/compiled/next-server/app-route-turbo.runtime.dev.js", () => require("next/dist/compiled/next-server/app-route-turbo.runtime.dev.js"));

module.exports = mod;
}),
"[externals]/next/dist/compiled/@opentelemetry/api [external] (next/dist/compiled/@opentelemetry/api, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("next/dist/compiled/@opentelemetry/api", () => require("next/dist/compiled/@opentelemetry/api"));

module.exports = mod;
}),
"[externals]/next/dist/compiled/next-server/app-page-turbo.runtime.dev.js [external] (next/dist/compiled/next-server/app-page-turbo.runtime.dev.js, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("next/dist/compiled/next-server/app-page-turbo.runtime.dev.js", () => require("next/dist/compiled/next-server/app-page-turbo.runtime.dev.js"));

module.exports = mod;
}),
"[externals]/next/dist/server/app-render/work-unit-async-storage.external.js [external] (next/dist/server/app-render/work-unit-async-storage.external.js, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("next/dist/server/app-render/work-unit-async-storage.external.js", () => require("next/dist/server/app-render/work-unit-async-storage.external.js"));

module.exports = mod;
}),
"[externals]/next/dist/server/app-render/work-async-storage.external.js [external] (next/dist/server/app-render/work-async-storage.external.js, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("next/dist/server/app-render/work-async-storage.external.js", () => require("next/dist/server/app-render/work-async-storage.external.js"));

module.exports = mod;
}),
"[externals]/next/dist/shared/lib/no-fallback-error.external.js [external] (next/dist/shared/lib/no-fallback-error.external.js, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("next/dist/shared/lib/no-fallback-error.external.js", () => require("next/dist/shared/lib/no-fallback-error.external.js"));

module.exports = mod;
}),
"[externals]/next/dist/server/app-render/after-task-async-storage.external.js [external] (next/dist/server/app-render/after-task-async-storage.external.js, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("next/dist/server/app-render/after-task-async-storage.external.js", () => require("next/dist/server/app-render/after-task-async-storage.external.js"));

module.exports = mod;
}),
"[externals]/fs [external] (fs, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("fs", () => require("fs"));

module.exports = mod;
}),
"[externals]/path [external] (path, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("path", () => require("path"));

module.exports = mod;
}),
"[project]/OneDrive/Desktop/HMC tracker/src/data/mockData.ts [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "mockContacts",
    ()=>mockContacts,
    "mockMaintenanceRecords",
    ()=>mockMaintenanceRecords,
    "mockVehicles",
    ()=>mockVehicles
]);
const mockContacts = [
    {
        id: '1',
        name: 'Ahmed Al-Mansoori',
        email: 'ahmed.almansoori@hamad.qa',
        phone: '+974-555-0101',
        role: 'Senior Maintenance Technician'
    },
    {
        id: '2',
        name: 'Fatima Al-Khalifa',
        email: 'fatima.alkhalifa@hamad.qa',
        phone: '+974-555-0102',
        role: 'Vehicle Maintenance Supervisor'
    },
    {
        id: '3',
        name: 'Mohammed Al-Thani',
        email: 'mohammed.althani@hamad.qa',
        phone: '+974-555-0103',
        role: 'Aviation Maintenance Specialist'
    },
    {
        id: '4',
        name: 'Sara Al-Sulaiti',
        email: 'sara.alsulaiti@hamad.qa',
        phone: '+974-555-0104',
        role: 'Medical Equipment Technician'
    },
    {
        id: '5',
        name: 'Khalid Al-Mahmoud',
        email: 'khalid.almahmoud@hamad.qa',
        phone: '+974-555-0105',
        role: 'Fleet Manager'
    }
];
// Device templates for different vehicle types
const carDeviceTemplates = [
    {
        name: 'Engine Oil System',
        type: 'engine',
        intervalDays: 90,
        criticality: 'high',
        location: 'Engine Bay'
    },
    {
        name: 'Transmission Fluid',
        type: 'transmission',
        intervalDays: 180,
        criticality: 'high',
        location: 'Under Vehicle'
    },
    {
        name: 'Brake Pads',
        type: 'brakes',
        intervalDays: 120,
        criticality: 'critical',
        location: 'Wheel Assemblies'
    },
    {
        name: 'Brake Fluid',
        type: 'brakes',
        intervalDays: 365,
        criticality: 'high',
        location: 'Brake Reservoir'
    },
    {
        name: 'Battery',
        type: 'battery',
        intervalDays: 180,
        criticality: 'medium',
        location: 'Engine Bay'
    },
    {
        name: 'Air Filter',
        type: 'engine',
        intervalDays: 150,
        criticality: 'medium',
        location: 'Engine Bay'
    },
    {
        name: 'Cabin Air Filter',
        type: 'air_conditioning',
        intervalDays: 180,
        criticality: 'low',
        location: 'Under Dashboard'
    },
    {
        name: 'Tires',
        type: 'tires',
        intervalDays: 180,
        criticality: 'high',
        location: 'All Wheels'
    },
    {
        name: 'Cooling System',
        type: 'engine',
        intervalDays: 365,
        criticality: 'high',
        location: 'Engine Bay'
    },
    {
        name: 'Fuel Filter',
        type: 'fuel_system',
        intervalDays: 300,
        criticality: 'medium',
        location: 'Under Vehicle'
    },
    {
        name: 'Spark Plugs',
        type: 'engine',
        intervalDays: 600,
        criticality: 'medium',
        location: 'Engine Bay'
    },
    {
        name: 'Timing Belt',
        type: 'engine',
        intervalDays: 1200,
        criticality: 'critical',
        location: 'Engine Bay'
    },
    {
        name: 'Suspension System',
        type: 'landing_gear',
        intervalDays: 365,
        criticality: 'high',
        location: 'Wheel Assemblies'
    },
    {
        name: 'Exhaust System',
        type: 'engine',
        intervalDays: 365,
        criticality: 'medium',
        location: 'Under Vehicle'
    },
    {
        name: 'Electrical System',
        type: 'electrical',
        intervalDays: 180,
        criticality: 'medium',
        location: 'Various'
    },
    {
        name: 'Lighting System',
        type: 'lighting',
        intervalDays: 180,
        criticality: 'low',
        location: 'Exterior/Interior'
    },
    {
        name: 'Wiper System',
        type: 'electrical',
        intervalDays: 180,
        criticality: 'low',
        location: 'Windshield'
    },
    {
        name: 'Air Conditioning',
        type: 'air_conditioning',
        intervalDays: 180,
        criticality: 'medium',
        location: 'Engine Bay'
    },
    {
        name: 'GPS/Navigation',
        type: 'navigation',
        intervalDays: 365,
        criticality: 'low',
        location: 'Dashboard'
    },
    {
        name: 'Radio/Communication',
        type: 'communication',
        intervalDays: 180,
        criticality: 'low',
        location: 'Dashboard'
    }
];
const ambulanceDeviceTemplates = [
    {
        name: 'Engine System',
        type: 'engine',
        intervalDays: 90,
        criticality: 'critical',
        location: 'Engine Compartment'
    },
    {
        name: 'Transmission',
        type: 'transmission',
        intervalDays: 180,
        criticality: 'high',
        location: 'Under Vehicle'
    },
    {
        name: 'Brake System',
        type: 'brakes',
        intervalDays: 120,
        criticality: 'critical',
        location: 'Wheel Assemblies'
    },
    {
        name: 'Emergency Lighting',
        type: 'lighting',
        intervalDays: 90,
        criticality: 'critical',
        location: 'Roof/Exterior'
    },
    {
        name: 'Siren System',
        type: 'communication',
        intervalDays: 180,
        criticality: 'critical',
        location: 'Roof/Dashboard'
    },
    {
        name: 'Medical Oxygen System',
        type: 'medical_equipment',
        intervalDays: 180,
        criticality: 'critical',
        location: 'Patient Compartment'
    },
    {
        name: 'Defibrillator',
        type: 'medical_equipment',
        intervalDays: 365,
        criticality: 'critical',
        location: 'Patient Compartment'
    },
    {
        name: 'Patient Monitor',
        type: 'monitoring_systems',
        intervalDays: 180,
        criticality: 'critical',
        location: 'Patient Compartment'
    },
    {
        name: 'Ventilator',
        type: 'medical_equipment',
        intervalDays: 90,
        criticality: 'critical',
        location: 'Patient Compartment'
    },
    {
        name: 'Stretcher System',
        type: 'safety_equipment',
        intervalDays: 365,
        criticality: 'high',
        location: 'Patient Compartment'
    },
    {
        name: 'Air Conditioning',
        type: 'air_conditioning',
        intervalDays: 90,
        criticality: 'high',
        location: 'Cabin'
    },
    {
        name: 'Battery System',
        type: 'battery',
        intervalDays: 180,
        criticality: 'high',
        location: 'Engine Compartment'
    },
    {
        name: 'Tires',
        type: 'tires',
        intervalDays: 120,
        criticality: 'high',
        location: 'All Wheels'
    },
    {
        name: 'Fuel System',
        type: 'fuel_system',
        intervalDays: 180,
        criticality: 'medium',
        location: 'Under Vehicle'
    },
    {
        name: 'Electrical System',
        type: 'electrical',
        intervalDays: 180,
        criticality: 'high',
        location: 'Various'
    },
    {
        name: 'GPS Tracking',
        type: 'navigation',
        intervalDays: 365,
        criticality: 'medium',
        location: 'Dashboard'
    },
    {
        name: 'Radio Communication',
        type: 'communication',
        intervalDays: 90,
        criticality: 'critical',
        location: 'Dashboard'
    },
    {
        name: 'Emergency Power Supply',
        type: 'electrical',
        intervalDays: 180,
        criticality: 'critical',
        location: 'Under Floor'
    },
    {
        name: 'Safety Equipment',
        type: 'safety_equipment',
        intervalDays: 180,
        criticality: 'high',
        location: 'Various'
    },
    {
        name: 'Cooling System',
        type: 'engine',
        intervalDays: 180,
        criticality: 'medium',
        location: 'Engine Compartment'
    }
];
const helicopterDeviceTemplates = [
    {
        name: 'Main Rotor System',
        type: 'rotor_system',
        intervalDays: 90,
        criticality: 'critical',
        location: 'Main Rotor'
    },
    {
        name: 'Tail Rotor System',
        type: 'rotor_system',
        intervalDays: 90,
        criticality: 'critical',
        location: 'Tail Rotor'
    },
    {
        name: 'Engine System',
        type: 'engine',
        intervalDays: 50,
        criticality: 'critical',
        location: 'Engine Compartment'
    },
    {
        name: 'Transmission System',
        type: 'transmission',
        intervalDays: 180,
        criticality: 'critical',
        location: 'Transmission Bay'
    },
    {
        name: 'Avionics System',
        type: 'avionics',
        intervalDays: 180,
        criticality: 'critical',
        location: 'Cockpit'
    },
    {
        name: 'Hydraulic System',
        type: 'hydraulics',
        intervalDays: 90,
        criticality: 'critical',
        location: 'Various'
    },
    {
        name: 'Fuel System',
        type: 'fuel_system',
        intervalDays: 180,
        criticality: 'high',
        location: 'Fuel Tanks'
    },
    {
        name: 'Electrical System',
        type: 'electrical',
        intervalDays: 90,
        criticality: 'critical',
        location: 'Various'
    },
    {
        name: 'Landing Gear',
        type: 'landing_gear',
        intervalDays: 365,
        criticality: 'high',
        location: 'Undercarriage'
    },
    {
        name: 'Emergency Systems',
        type: 'emergency_systems',
        intervalDays: 180,
        criticality: 'critical',
        location: 'Various'
    },
    {
        name: 'Navigation System',
        type: 'navigation',
        intervalDays: 180,
        criticality: 'high',
        location: 'Cockpit'
    },
    {
        name: 'Communication System',
        type: 'communication',
        intervalDays: 90,
        criticality: 'critical',
        location: 'Cockpit'
    },
    {
        name: 'Medical Equipment',
        type: 'medical_equipment',
        intervalDays: 180,
        criticality: 'high',
        location: 'Cabin'
    },
    {
        name: 'Monitoring Systems',
        type: 'monitoring_systems',
        intervalDays: 90,
        criticality: 'high',
        location: 'Cockpit'
    },
    {
        name: 'Lighting System',
        type: 'lighting',
        intervalDays: 180,
        criticality: 'medium',
        location: 'Exterior'
    },
    {
        name: 'Air Conditioning',
        type: 'air_conditioning',
        intervalDays: 90,
        criticality: 'medium',
        location: 'Cabin'
    },
    {
        name: 'Battery System',
        type: 'battery',
        intervalDays: 180,
        criticality: 'high',
        location: 'Various'
    },
    {
        name: 'Safety Equipment',
        type: 'safety_equipment',
        intervalDays: 180,
        criticality: 'critical',
        location: 'Various'
    },
    {
        name: 'Fuel Monitoring',
        type: 'monitoring_systems',
        intervalDays: 90,
        criticality: 'high',
        location: 'Cockpit'
    },
    {
        name: 'Vibration Monitoring',
        type: 'monitoring_systems',
        intervalDays: 60,
        criticality: 'high',
        location: 'Various'
    }
];
// Helper function to generate devices for a vehicle
function generateDevices(vehicleId, templates) {
    const now = new Date();
    return templates.map((template, index)=>{
        const lastMaintenance = new Date(now.getTime() - Math.random() * template.intervalDays * 24 * 60 * 60 * 1000);
        const nextMaintenance = new Date(lastMaintenance.getTime() + template.intervalDays * 24 * 60 * 60 * 1000);
        const isOverdue = nextMaintenance < now;
        const isDueSoon = !isOverdue && nextMaintenance.getTime() - now.getTime() < 7 * 24 * 60 * 60 * 1000; // 7 days
        let status = 'upcoming';
        if (isOverdue) status = 'overdue';
        else if (isDueSoon) status = 'due';
        return {
            id: `${vehicleId}-device-${index + 1}`,
            vehicleId,
            name: template.name,
            type: template.type,
            description: `${template.name} maintenance and inspection`,
            maintenanceIntervalDays: template.intervalDays,
            lastMaintenanceDate: lastMaintenance,
            nextMaintenanceDate: nextMaintenance,
            status,
            serialNumber: `SN-${vehicleId}-${index + 1}`,
            manufacturer: 'Various Manufacturers',
            model: `Model-${index + 1}`,
            location: template.location,
            criticality: template.criticality,
            assignedContacts: [
                mockContacts[Math.floor(Math.random() * mockContacts.length)]
            ]
        };
    });
}
const mockVehicles = [
    // Cars
    {
        id: 'car-1',
        name: 'Charlie Response Car 1',
        type: 'car',
        model: 'Toyota Prado',
        licensePlate: 'HMC-001',
        registrationNumber: 'REG-001',
        status: 'active',
        location: 'Main Hospital Parking',
        assignedContacts: [
            mockContacts[1],
            mockContacts[4]
        ],
        devices: generateDevices('car-1', carDeviceTemplates),
        purchaseDate: new Date('2022-01-15'),
        lastInspectionDate: new Date('2025-12-01'),
        nextInspectionDate: new Date('2026-06-01'),
        mileage: 45000,
        notes: 'Primary emergency response vehicle'
    },
    {
        id: 'car-2',
        name: 'Charlie Response Car 2',
        type: 'car',
        model: 'Toyota Prado',
        licensePlate: 'HMC-002',
        registrationNumber: 'REG-002',
        status: 'active',
        location: 'Emergency Department',
        assignedContacts: [
            mockContacts[0],
            mockContacts[1]
        ],
        devices: generateDevices('car-2', carDeviceTemplates),
        purchaseDate: new Date('2022-03-20'),
        lastInspectionDate: new Date('2025-11-15'),
        nextInspectionDate: new Date('2026-05-15'),
        mileage: 38000,
        notes: 'Backup emergency response vehicle'
    },
    {
        id: 'car-3',
        name: 'Charlie Support Car 1',
        type: 'car',
        model: 'Toyota Prado',
        licensePlate: 'HMC-003',
        registrationNumber: 'REG-003',
        status: 'active',
        location: 'Administration Building',
        assignedContacts: [
            mockContacts[1],
            mockContacts[4]
        ],
        devices: generateDevices('car-3', carDeviceTemplates),
        purchaseDate: new Date('2023-01-10'),
        lastInspectionDate: new Date('2025-12-15'),
        nextInspectionDate: new Date('2026-06-15'),
        mileage: 25000,
        notes: 'Administrative and transport duties'
    },
    {
        id: 'car-4',
        name: 'Charlie Transport Car 1',
        type: 'car',
        model: 'Toyota Prado',
        licensePlate: 'HMC-004',
        registrationNumber: 'REG-004',
        status: 'maintenance',
        location: 'Maintenance Bay',
        assignedContacts: [
            mockContacts[0],
            mockContacts[1]
        ],
        devices: generateDevices('car-4', carDeviceTemplates),
        purchaseDate: new Date('2022-08-05'),
        lastInspectionDate: new Date('2025-10-20'),
        nextInspectionDate: new Date('2026-04-20'),
        mileage: 52000,
        notes: 'Currently undergoing scheduled maintenance'
    },
    {
        id: 'car-5',
        name: 'Charlie Transport Car 2',
        type: 'car',
        model: 'Toyota Prado',
        licensePlate: 'HMC-005',
        registrationNumber: 'REG-005',
        status: 'active',
        location: 'Medical Transport Bay',
        assignedContacts: [
            mockContacts[1],
            mockContacts[3]
        ],
        devices: generateDevices('car-5', carDeviceTemplates),
        purchaseDate: new Date('2023-02-28'),
        lastInspectionDate: new Date('2025-12-10'),
        nextInspectionDate: new Date('2026-06-10'),
        mileage: 28000,
        notes: 'Dedicated medical transport vehicle'
    },
    // Ambulances
    {
        id: 'ambulance-1',
        name: 'Ambulance Alpha 1',
        type: 'ambulance',
        model: 'Ford Transit',
        licensePlate: 'AMB-001',
        registrationNumber: 'AMB-REG-001',
        status: 'active',
        location: 'Emergency Department',
        assignedContacts: [
            mockContacts[0],
            mockContacts[3]
        ],
        devices: generateDevices('ambulance-1', ambulanceDeviceTemplates),
        purchaseDate: new Date('2021-06-15'),
        lastInspectionDate: new Date('2025-12-05'),
        nextInspectionDate: new Date('2026-06-05'),
        mileage: 65000,
        notes: 'Fully equipped ALS ambulance'
    },
    {
        id: 'ambulance-2',
        name: 'Ambulance Bravo 1',
        type: 'ambulance',
        model: 'Ford Transit',
        licensePlate: 'AMB-002',
        registrationNumber: 'AMB-REG-002',
        status: 'active',
        location: 'Ambulance Bay 1',
        assignedContacts: [
            mockContacts[1],
            mockContacts[3]
        ],
        devices: generateDevices('ambulance-2', ambulanceDeviceTemplates),
        purchaseDate: new Date('2022-01-20'),
        lastInspectionDate: new Date('2025-11-25'),
        nextInspectionDate: new Date('2026-05-25'),
        mileage: 48000,
        notes: 'BLS ambulance for routine transports'
    },
    {
        id: 'ambulance-3',
        name: 'Ambulance Alpha 2',
        type: 'ambulance',
        model: 'Ford Transit',
        licensePlate: 'AMB-003',
        registrationNumber: 'AMB-REG-003',
        status: 'active',
        location: 'Ambulance Bay 2',
        assignedContacts: [
            mockContacts[0],
            mockContacts[2]
        ],
        devices: generateDevices('ambulance-3', ambulanceDeviceTemplates),
        purchaseDate: new Date('2021-09-10'),
        lastInspectionDate: new Date('2025-12-08'),
        nextInspectionDate: new Date('2026-06-08'),
        mileage: 72000,
        notes: 'Critical care transport ambulance'
    },
    {
        id: 'ambulance-4',
        name: 'Ambulance Bravo 2',
        type: 'ambulance',
        model: 'Ford Transit',
        licensePlate: 'AMB-004',
        registrationNumber: 'AMB-REG-004',
        status: 'maintenance',
        location: 'Maintenance Facility',
        assignedContacts: [
            mockContacts[1],
            mockContacts[3]
        ],
        devices: generateDevices('ambulance-4', ambulanceDeviceTemplates),
        purchaseDate: new Date('2022-04-15'),
        lastInspectionDate: new Date('2025-10-30'),
        nextInspectionDate: new Date('2026-04-30'),
        mileage: 35000,
        notes: 'Specialized neonatal transport - in maintenance'
    },
    {
        id: 'ambulance-5',
        name: 'Ambulance Alpha 3',
        type: 'ambulance',
        model: 'Ford Transit',
        licensePlate: 'AMB-005',
        registrationNumber: 'AMB-REG-005',
        status: 'active',
        location: 'Emergency Response Station',
        assignedContacts: [
            mockContacts[0],
            mockContacts[1]
        ],
        devices: generateDevices('ambulance-5', ambulanceDeviceTemplates),
        purchaseDate: new Date('2023-01-05'),
        lastInspectionDate: new Date('2025-12-12'),
        nextInspectionDate: new Date('2026-06-12'),
        mileage: 29000,
        notes: 'Heavy rescue and extrication ambulance'
    },
    // Helicopters
    {
        id: 'helicopter-1',
        name: 'Air Ambulance 1',
        type: 'helicopter',
        model: 'Airbus H145',
        licensePlate: 'HEL-001',
        registrationNumber: 'HEL-REG-001',
        status: 'active',
        location: 'Helipad A',
        assignedContacts: [
            mockContacts[2],
            mockContacts[3]
        ],
        devices: generateDevices('helicopter-1', helicopterDeviceTemplates),
        purchaseDate: new Date('2020-08-20'),
        lastInspectionDate: new Date('2025-12-03'),
        nextInspectionDate: new Date('2026-06-03'),
        flightHours: 1250,
        notes: 'Primary air ambulance helicopter'
    },
    {
        id: 'helicopter-2',
        name: 'Medical Transport Helicopter 1',
        type: 'helicopter',
        model: 'AgustaWestland AW169',
        licensePlate: 'HEL-002',
        registrationNumber: 'HEL-REG-002',
        status: 'active',
        location: 'Helipad B',
        assignedContacts: [
            mockContacts[2],
            mockContacts[4]
        ],
        devices: generateDevices('helicopter-2', helicopterDeviceTemplates),
        purchaseDate: new Date('2021-11-30'),
        lastInspectionDate: new Date('2025-11-28'),
        nextInspectionDate: new Date('2026-05-28'),
        flightHours: 890,
        notes: 'Secondary medical transport helicopter'
    }
];
const mockMaintenanceRecords = [
    {
        id: 'record-1',
        deviceId: 'car-1-device-1',
        vehicleId: 'car-1',
        date: new Date('2025-11-15'),
        type: 'preventive',
        description: 'Regular engine oil change and filter replacement',
        technician: 'Ahmed Al-Mansoori',
        cost: 150,
        notes: 'All systems operating normally',
        nextDueDate: new Date('2026-02-15')
    },
    {
        id: 'record-2',
        deviceId: 'ambulance-1-device-3',
        vehicleId: 'ambulance-1',
        date: new Date('2025-12-01'),
        type: 'corrective',
        description: 'Brake system inspection and pad replacement',
        technician: 'Fatima Al-Khalifa',
        cost: 320,
        notes: 'Front brake pads worn, replaced both front and rear for safety',
        nextDueDate: new Date('2026-03-01')
    },
    {
        id: 'record-3',
        deviceId: 'helicopter-1-device-1',
        vehicleId: 'helicopter-1',
        date: new Date('2025-11-20'),
        type: 'inspection',
        description: 'Main rotor system inspection',
        technician: 'Mohammed Al-Thani',
        cost: 450,
        notes: 'Rotor system in good condition, minor balancing adjustment performed',
        nextDueDate: new Date('2026-02-20')
    }
];
}),
"[project]/OneDrive/Desktop/HMC tracker/src/lib/db.ts [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "addVehicle",
    ()=>addVehicle,
    "getVehicleById",
    ()=>getVehicleById,
    "getVehicles",
    ()=>getVehicles,
    "saveVehicles",
    ()=>saveVehicles
]);
var __TURBOPACK__imported__module__$5b$externals$5d2f$fs__$5b$external$5d$__$28$fs$2c$__cjs$29$__ = __turbopack_context__.i("[externals]/fs [external] (fs, cjs)");
var __TURBOPACK__imported__module__$5b$externals$5d2f$path__$5b$external$5d$__$28$path$2c$__cjs$29$__ = __turbopack_context__.i("[externals]/path [external] (path, cjs)");
var __TURBOPACK__imported__module__$5b$project$5d2f$OneDrive$2f$Desktop$2f$HMC__tracker$2f$src$2f$data$2f$mockData$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/OneDrive/Desktop/HMC tracker/src/data/mockData.ts [app-route] (ecmascript)");
;
;
;
const DB_PATH = __TURBOPACK__imported__module__$5b$externals$5d2f$path__$5b$external$5d$__$28$path$2c$__cjs$29$__["default"].join(process.cwd(), 'src', 'data', 'db.json');
// Ensure the directory exists
function ensureDbDefined() {
    const dir = __TURBOPACK__imported__module__$5b$externals$5d2f$path__$5b$external$5d$__$28$path$2c$__cjs$29$__["default"].dirname(DB_PATH);
    if (!__TURBOPACK__imported__module__$5b$externals$5d2f$fs__$5b$external$5d$__$28$fs$2c$__cjs$29$__["default"].existsSync(dir)) {
        __TURBOPACK__imported__module__$5b$externals$5d2f$fs__$5b$external$5d$__$28$fs$2c$__cjs$29$__["default"].mkdirSync(dir, {
            recursive: true
        });
    }
}
async function getVehicles() {
    ensureDbDefined();
    if (!__TURBOPACK__imported__module__$5b$externals$5d2f$fs__$5b$external$5d$__$28$fs$2c$__cjs$29$__["default"].existsSync(DB_PATH)) {
        // Seed with mock data if no DB exists
        await saveVehicles(__TURBOPACK__imported__module__$5b$project$5d2f$OneDrive$2f$Desktop$2f$HMC__tracker$2f$src$2f$data$2f$mockData$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["mockVehicles"]);
        return __TURBOPACK__imported__module__$5b$project$5d2f$OneDrive$2f$Desktop$2f$HMC__tracker$2f$src$2f$data$2f$mockData$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["mockVehicles"];
    }
    try {
        const fileContent = __TURBOPACK__imported__module__$5b$externals$5d2f$fs__$5b$external$5d$__$28$fs$2c$__cjs$29$__["default"].readFileSync(DB_PATH, 'utf-8');
        const data = JSON.parse(fileContent);
        // Revive dates (JSON doesn't store Date objects)
        return data.map((v)=>({
                ...v,
                purchaseDate: new Date(v.purchaseDate),
                lastInspectionDate: new Date(v.lastInspectionDate),
                nextInspectionDate: new Date(v.nextInspectionDate),
                devices: v.devices.map((d)=>({
                        ...d,
                        lastMaintenanceDate: d.lastMaintenanceDate ? new Date(d.lastMaintenanceDate) : undefined,
                        nextMaintenanceDate: new Date(d.nextMaintenanceDate)
                    }))
            }));
    } catch (error) {
        console.error('Error reading DB:', error);
        return __TURBOPACK__imported__module__$5b$project$5d2f$OneDrive$2f$Desktop$2f$HMC__tracker$2f$src$2f$data$2f$mockData$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["mockVehicles"];
    }
}
async function saveVehicles(vehicles) {
    ensureDbDefined();
    __TURBOPACK__imported__module__$5b$externals$5d2f$fs__$5b$external$5d$__$28$fs$2c$__cjs$29$__["default"].writeFileSync(DB_PATH, JSON.stringify(vehicles, null, 2), 'utf-8');
}
async function addVehicle(vehicle) {
    const vehicles = await getVehicles();
    vehicles.push(vehicle);
    await saveVehicles(vehicles);
}
async function getVehicleById(id) {
    const vehicles = await getVehicles();
    return vehicles.find((v)=>v.id === id);
}
}),
"[project]/OneDrive/Desktop/HMC tracker/src/app/api/vehicles/route.ts [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "GET",
    ()=>GET,
    "POST",
    ()=>POST
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$OneDrive$2f$Desktop$2f$HMC__tracker$2f$node_modules$2f$next$2f$server$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/OneDrive/Desktop/HMC tracker/node_modules/next/server.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$OneDrive$2f$Desktop$2f$HMC__tracker$2f$src$2f$lib$2f$db$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/OneDrive/Desktop/HMC tracker/src/lib/db.ts [app-route] (ecmascript)");
;
;
async function GET() {
    const vehicles = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$OneDrive$2f$Desktop$2f$HMC__tracker$2f$src$2f$lib$2f$db$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["getVehicles"])();
    return __TURBOPACK__imported__module__$5b$project$5d2f$OneDrive$2f$Desktop$2f$HMC__tracker$2f$node_modules$2f$next$2f$server$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["NextResponse"].json(vehicles);
}
async function POST(request) {
    try {
        const data = await request.json();
        // Basic validation could go here
        const newVehicle = {
            ...data,
            // Ensure dates are parsed correctly from the client
            purchaseDate: new Date(data.purchaseDate),
            lastInspectionDate: new Date(data.lastInspectionDate),
            nextInspectionDate: new Date(data.nextInspectionDate),
            devices: []
        };
        await (0, __TURBOPACK__imported__module__$5b$project$5d2f$OneDrive$2f$Desktop$2f$HMC__tracker$2f$src$2f$lib$2f$db$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["addVehicle"])(newVehicle);
        return __TURBOPACK__imported__module__$5b$project$5d2f$OneDrive$2f$Desktop$2f$HMC__tracker$2f$node_modules$2f$next$2f$server$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["NextResponse"].json({
            success: true,
            vehicle: newVehicle
        });
    } catch (error) {
        console.error('Failed to add vehicle:', error);
        return __TURBOPACK__imported__module__$5b$project$5d2f$OneDrive$2f$Desktop$2f$HMC__tracker$2f$node_modules$2f$next$2f$server$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["NextResponse"].json({
            success: false,
            error: 'Failed'
        }, {
            status: 500
        });
    }
}
}),
];

//# sourceMappingURL=%5Broot-of-the-server%5D__d3cd99a0._.js.map